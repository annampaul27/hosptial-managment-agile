{% load static %}
<!-- ==================== LAB SIDEBAR ==================== -->
<aside class="medical-sidebar">
    <!-- Brand -->
    <div class="brand">
        <div class="brand-logo">
            <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                <circle cx="20" cy="20" r="18" fill="url(#gradient)" opacity="0.2" />
                <path d="M20 8V32M8 20H32" stroke="url(#gradient)" stroke-width="3" stroke-linecap="round" />
                <defs>
                    <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
                        <stop offset="0%" stop-color="#22d3ee" />
                        <stop offset="100%" stop-color="#a78bfa" />
                    </linearGradient>
                </defs>
            </svg>
        </div>
        <span class="brand-name">Beta Care</span>
    </div>

    <!-- Profile Card -->
    <div class="profile-card">
        <div class="profile-avatar-wrapper">
            <div class="profile-avatar">
                <img src="{% static 'core/images/avatar-placeholder.jpg' %}" alt="Profile"
                    onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                <div class="avatar-fallback" style="display: flex;">
                    {{ request.user.first_name|default:request.user.username|slice:":1"|upper }}
                </div>
            </div>
        </div>
        <div class="profile-details">
            <h4 class="profile-name">{{ request.user.get_full_name|default:request.user.username }}</h4>
            <p class="profile-email">{{ request.user.email|truncatechars:25 }}</p>
        </div>
        <span class="role-badge" style="background: linear-gradient(135deg, #60a5fa, #3b82f6);">Lab Technician</span>
    </div>

    <!-- Navigation Menu -->
    <nav class="sidebar-nav">
        <a href="{% url 'lab_dashboard' %}"
            class="nav-item {% if request.resolver_match.url_name == 'lab_dashboard' %}active{% endif %}">
            <i class="fa-solid fa-chart-line"></i>
            <span>Dashboard</span>
        </a>
        

        <a href="{% url 'lab_tests' %}" 
            class="nav-item {% if request.resolver_match.url_name == 'lab_tests' or request.resolver_match.url_name == 'lab_booking_detail' %}active{% endif %}">
            <i class="fa-solid fa-vials"></i>
            <span>Test Bookings</span>
        </a>
        
        <a href="{% url 'lab_results' %}" 
            class="nav-item {% if request.resolver_match.url_name == 'lab_results' or request.resolver_match.url_name == 'lab_update_result' %}active{% endif %}">
            <i class="fa-solid fa-file-medical"></i>
            <span>Update Results</span>
        </a>
        
        <a href="{% url 'lab_prices' %}" 
            class="nav-item {% if request.resolver_match.url_name == 'lab_prices' or request.resolver_match.url_name == 'lab_add_test' or request.resolver_match.url_name == 'lab_edit_test' %}active{% endif %}">
            <i class="fa-solid fa-tags"></i>
            <span>Test Prices</span>
        </a>
        
        {% comment %} <a href="{% url 'lab_reports' %}" 
            class="nav-item {% if request.resolver_match.url_name == 'lab_reports' %}active{% endif %}">
            <i class="fa-solid fa-chart-bar"></i>
            <span>Reports & Analytics</span>
        </a> {% endcomment %}
    </nav>

    <!-- Logout Button -->
    <div class="sidebar-footer">
        <a href="{% url 'logout' %}" class="logout-link">
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
            <span>Logout</span>
        </a>
    </div>
</aside>